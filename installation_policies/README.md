![](/res/xsdk-logo.png)

Draft document generated by the IDEAS xSDK project.

We are actively soliciting suggestions from the community at
[github.com/xsdk-project/xsdk-community-policies](https://github.com/xsdk-project/xsdk-community-policies).

# xSDK Community Installation Policies

Version 0.5.0, June 27, 2019

[https://xsdk.info/policies](https://xsdk.info/policies)

## Background

[What is software configuration?][1] and [How to configure software][2].

## Motivation

Combinations of multiple software packages developed by different groups have
become essential for large-scale computational science, where the capabilities
needed for modeling, simulation, and analysis are broader than any single team
has resources to address. The often-tedious trial-and-error process of
obtaining, configuring, and installing any single tool may arguably be
manageable. From the perspective of an end-user application scientist, however,
handling each toolâ€™s installation idiosyncrasies can easily become overwhelming
when dealing with several packages in combination. Worse, such problems are
compounded by the need for consistency among packages to be used within the same
application in terms of compiler, compiler version, exotic compiler optimization
options, and common third-party packages such as BLAS and HDF5.

## Goal

A key aspect of work in the [IDEAS software productivity project][3] is
developing an Extreme-scale Scientific Software Development Kit
([xSDK](http://xsdk.info)).  As an initial step in this work, our goal is to
define and implement a standard subset^1^ of configure and CMake^2^ options for
xSDK and other HPC packages in order to make the configuration  and installation
process as efficient as possible on standard Linux distributions and Mac OS, as
well as on target machines at DOE computing facilities (ALCF, NERSC, OLCF). Note
that we are not requiring that all packages use the same installation software,
merely that they follow the same standard procedure with the same option names
for installation. This approach provides maximum flexibility for each package to
select the most suitable toolchain to use for its package.

## Impact

Development of a standard xSDK package installation interface is a foundational
step toward the seamless combined use of multiple xSDK libraries. The impact of
this work is that all xSDK packages will have standard configuration and build
instructions, as well as a tester to ensure that all functionality works
properly. In addition, because new packages in the xSDK will follow the same
standard, it is possible to make the installations "scriptable," that is, to
write tools to install many packages automatically.  This work is part of the
[xSDK Community Package Policies][4].

## xSDK Standard Configure and CMake Options^3^ 

**I1.** [Implement the xSDK defaults option.](/installation_policies/I1.md)

**I2.** [Identify location to install package.](/installation_policies/I2.md)

**I3.** [Select compilers and compiler flags.](/installation_policies/I3.md)

**I4.** [Create libraries with debugging information and possible additional
error checking.](/installation_policies/I4.md)

**I5.** [Select option used for indicating whether to build shared
libraries.](/installation_policies/I5.md)

**I6.** [Build interface for a particular additional
language.](/installation_policies/I6.md)

**I7.** [Determine precision for packages that build only for one precision.
Packages that handle all precisions automatically are free to ignore this
option.](/installation_policies/I7.md)

**I8.** [Determine index size for packages that build only for one index size.
Packages that handle all precisions automatically are free to ignore this
option.](/installation_policies/I8.md)

**I9.** [Set location of BLAS and LAPACK
libraries.](/installation_policies/I9.md)

**I10.** [Determine other package libraries and include
directories.](/installation_policies/I10.md)

**I11.** [In the XSDK mode, XSDK projects should not rely on users providing any
library path information in environmental
variables.](/installation_policies/I11.md)

**I12.** [Provide commands for compiling, installing, and "smoke"
testing.](/installation_policies/I12.md)

**I13.** [Package should provide a machine-readable output to show
provenance.](/installation_policies/I13.md)

For further discussion and examples of the xSDK standard Configure and CMake
options see
[discussions_and_examples.md](/installation_policies/discussion_and_examples.md).

## Changes

Changes in version 0.5.0, June 27, 2019: changed installation policies 13 and 10 and examples in 10

## Authors

This document was prepared by Roscoe Bartlett, Jason Sarich, and Barry Smith,
with key input from Todd Gamblin.  We thank xSDK software developers and the
IDEAS team for insightful discussion about issues and approaches.

## Acknowledgement

This material is based upon work supported by the U.S. Department of Energy
Office of Science, Advanced Scientific Computing Research and Biological and
Environmental Research programs.

-----



[//]: # "Main body footnotes"

^1^ Packages are free to support their own additional options, but using the
standard options should be all that is needed to get correct builds.

^2^ A subset of these standard behaviors is implemented in the
XSDKDefaults.cmake module and is demonstrated and tested in the CMake project
https://github.com/bartlettroscoe/XSDKCMakeProj.

^3^ This standard is related only to arguments to CMake and GNU Autoconf; there
is no requirement regarding the make system used (for example, that it be GNU
make) nor that the make system accepts any particular arguments, such as `make
LIBS+=-lz`.




[//]: # "Links go here"


[1]: https://ideas-productivity.org/wordpress/wp-content/uploads/2016/04/IDEAS-ConfigurationWhatIsSoftwareConfiguration-V0.2.pdf
[2]: https://ideas-productivity.org/wordpress/wp-content/uploads/2016/12/IDEAS-ConfigurationHowToConfigureSoftware-V0.2.pdf
[3]: http://www.ideas-productivity.org
[4]: http://dx.doi.org/10.6084/m9.figshare.4495136
